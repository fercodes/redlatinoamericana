---
import BaseLayout from '../layouts/BaseLayout.astro';
const pageTitle = "Nuestros miembros";
import PersonCard from '../components/PersonCard.astro';
import { supabase } from '../lib/supabaseClient';

const { data: comite, error: comiteError } = await supabase
  .from('comite_directivo')
  .select('*')
  .order('id');

const { data: fundadores, error: fundadoresError } = await supabase
  .from('fundadores')
  .select('*')
  .order('id');

if (comiteError) console.error(comiteError);
if (fundadoresError) console.error(fundadoresError);
---

<BaseLayout pageTitle={pageTitle}>
  <body>
    <h2>Comit√© Directivo</h2>
    <div class="grid">
      {comite?.map(person => (
        <PersonCard person={person} />
      ))}
    </div>

    <h2>Fundadores</h2>
    <div class="grid">
      {fundadores?.map(person => (
        <PersonCard person={person} />
      ))}
    </div>
  </body>
</BaseLayout>

<style>
.grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(230px, 1fr));
  gap: 1rem;
  padding: 1rem;
}
</style>
