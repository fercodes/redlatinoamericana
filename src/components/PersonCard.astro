---
const { person } = Astro.props;
const supabaseUrl = import.meta.env.PUBLIC_SUPABASE_URL;
const bucket = "people";
const imageUrl = `${supabaseUrl}/storage/v1/object/public/${bucket}/${person.profile_picture}`;
---

<div class="card">
  <div class="avatar-container">
    <img src={imageUrl} alt={person.full_name} class="avatar" />
  </div>
  {person.full_name && <h2>{person.full_name}</h2>}
  {person.cargo && <p><strong>Cargo:</strong> {person.cargo}</p>}
  {person.phone_number && <p><strong>Número:</strong> {person.phone_number}</p>}
  {person.home_country && <p><strong>País:</strong> {person.home_country}</p>}
  {person.city && <p><strong>Ciudad:</strong> {person.city}</p>}
  {person.location && <p><strong>Ubicación:</strong> {person.location}</p>}
  {person.education && <p><strong>Educación:</strong> {person.education}</p>}
  {person.affiliation && <p><strong>Afiliación:</strong> {person.affiliation}</p>}
  {person.research_interests && (
    <p><strong>Intereses de investigación:</strong> {person.research_interests}</p>
  )}
  {person.professional_email && (
    <p><strong>Email profesional:</strong> {person.professional_email}</p>
  )}
</div>


<style>
.card {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 1.5rem 1rem;
  border-radius: 16px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
  background: #ffffff;
  max-width: 280px;
  text-align: center;
  transition: transform 0.2s, box-shadow 0.2s;
}

.card:hover {
  transform: translateY(-4px);
  box-shadow: 0 8px 20px rgba(0,0,0,0.15);
}

.avatar-container {
  display: flex;
  justify-content: center;
  width: 100%;
  margin-bottom: 1rem;
}

.avatar {
  width: 120px;
  height: 120px;
  border-radius: 50%;
  object-fit: cover;
  border: 3px solid #eee;
  transition: transform 0.2s;
}

.avatar:hover {
  transform: scale(1.05);
}

h2 {
  font-size: 1.25rem;
  font-weight: 600;
  margin: 0.5rem 0 1rem 0;
}

p {
  margin: 0.25rem 0;
  font-size: 0.9rem;
  line-height: 1.3;
}
</style>
